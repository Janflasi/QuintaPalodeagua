{% extends 'base.html' %}
{% load static %}

{% block title %}Inicio{% endblock %}

{% block content %}
<div class="swiper-container hero-slider">
    <div class="swiper-wrapper">
        <div class="swiper-slide" style="background-image: url({% static 'img/piscina.png' %});">
            <div class="hero-content">
                <h1 class="display-3 text-white">Bienvenido a Quinta Palo de Agua</h1>
                <p class="lead text-white">El lugar perfecto para tus eventos y descanso.</p>
                <a href="{% url 'registro' %}" class="btn btn-principal btn-lg">¡Reserva Ahora!</a>
            </div>
        </div>
        <div class="swiper-slide" style="background-image: url({% static 'img/quinta.png' %});">
             <div class="hero-content">
                <h1 class="display-3 text-white">Momentos Inolvidables</h1>
                <p class="lead text-white">Celebra con nosotros y crea recuerdos que durarán toda la vida.</p>
                <a href="{% url 'galeria' %}" class="btn btn-principal btn-lg">Ver Galería</a>
            </div>
        </div>
        <div class="swiper-slide" style="background-image: url({% static 'img/paloagua.png' %});">
             <div class="hero-content">
                <h1 class="display-3 text-white">Naturaleza y Confort</h1>
                <p class="lead text-white">Un escape perfecto de la rutina.</p>
                <a href="{% url 'ver_disponibilidad_actual' %}" class="btn btn-principal btn-lg">Ver Disponibilidad</a>
            </div>
        </div>
    </div>
    <div class="swiper-pagination"></div>
</div>

<div class="container my-5">
    <div class="row align-items-center">
        <div class="col-lg-6">
            <h2>Un Espacio Único para Ti</h2>
            <p class="lead">Quinta Palo de Agua es más que un lugar, es una experiencia. Diseñada para ofrecer confort y versatilidad, nuestra quinta es el escenario ideal para bodas, reuniones familiares, retiros corporativos y cualquier celebración que desees hacer memorable.</p>
            <a href="{% url 'sobre_nosotros' %}" class="btn btn-outline-secondary">Conoce más sobre nosotros</a>
        </div>
        <div class="col-lg-6 mt-4 mt-lg-0">
            <img src="{% static 'img/quinta.png' %}" class="img-fluid rounded shadow" alt="Vista de la Quinta">
        </div>
    </div>
</div>

<div class="container-fluid bg-light py-5">
    <div class="container">
        <div class="row text-center mb-4">
            <div class="col">
                <h2>Recorre la Quinta</h2>
                <p class="lead">Un tour virtual para que te enamores del lugar.</p>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="ratio ratio-16x9 shadow rounded">
                    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
</div>

{% if resenas %}
<div class="container my-5">
    <div class="row text-center mb-5">
        <div class="col">
            <h2 class="section-title">Lo que dicen nuestros clientes</h2>
            <p class="section-subtitle">Experiencias reales de momentos inolvidables</p>
        </div>
    </div>
    
    <div class="testimonials-container">
        <div class="swiper testimonials-slider">
            <div class="swiper-wrapper">
                {% for resena in resenas %}
                <div class="swiper-slide">
                    <div class="card card-custom testimonial-card">
                        <div class="card-body">
                            <div class="quote-icon mb-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"></path>
                                    <path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"></path>
                                </svg>
                            </div>
                            <p class="testimonial-text">"{{ resena.comentario }}"</p>
                        </div>
                        <div class="card-footer">
                            <div class="stars mb-2">
                                {% for i in "x"|ljust:resena.calificacion %}
                                <svg class="star-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                </svg>
                                {% endfor %}
                            </div>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    {{ resena.usuario.first_name|default:resena.usuario.username|slice:":1"|upper }}
                                </div>
                                <span class="author-name">{{ resena.usuario.first_name|default:resena.usuario.username }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}